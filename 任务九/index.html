<!DOCTYPE html>
<html>
<head>
	<title>任务九</title>
	<meta charset="utf-8">
	<script>
		//立即执行表达式IIFE
		//函数
		function max(x,y){
			return x>y?x:y;
		}
		max(2,3);
		//立即执行表达式
		(function max(x,y){
			return x>y?x:y;
		}(2,3));

		//IIFE的写法
		//1.使用小括号的写法
		(function foo( x,y){ ... }(2,3)); //2,3为传递的参数
		(function foo(x,y){ ... })(2,3);

		(function() {
    		console.log("111");
		})();//没有分号的话会报错
		(function () {
    		console.log("222");
		})()

		//2.与运算符结合的写法
		var i = function( ){ return 10; }( ); //i为10

		true && function( ){  ... }( );
		true && function(a,b){//短路原则优先级高于立即执行
			return a>b?a:b;
		}(5,9);//9
		//短路原则优先级高于立即执行
		0 && function(a,b){
			return a>b?a:b;
		}(5,9);//0

	
		~function(arg1,arg2){ ... }(x,y); //x,y为传递参数 位运算非操作符

		!function( ){ ...  }( );

		!function(x,y){
			return x==y?true:false;
		}("5",5);//false

		!function(){return 2; }( );
		!function(){return 0; }();

		//避免文件之间的全局污染，使用IIFE的函数立即执行表达式
		(function () {  // IIFE开始
    		var x = 10;
    		document.onclick = function () {
        		// console.log("x = ",x);
        		alert("x = "+x);
    		};
		})();           // IIFE结束

		//对变量存储的方法
		function f(){
			var getNumFuncs = [];//函数数组
			for(var i=0;i<10;i++){
        		(function(j){	
            		getNumFuncs[j] = function(){
            			return j;
            		};
        		})(i);
    		}
			return getNumFuncs;
		}
		var tmp = f();
		tmp[3]();//3

		function f(){
			var getNumFuncs = [];
			for(var i=0;i<10;i++){	
            		getNumFuncs[i] = function(){
            			return i;
            		};
    		}
			return getNumFuncs;
		}
		var tmp = f();
		tmp[3]();//10
	</script>
</head>
<body>

</body>
</html>