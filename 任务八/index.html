<!DOCTYPE html>
<html>
<head>
	<title>任务八网页</title>
	<meta charset="utf-8">
	<script type="text/javascript">
		var name = "Javk";
		function echo(){
			console.log(name);
		}
		function foo(){
			var name = "Bill";
			echo();
		}
		foo();//输出Javk

		var f2 = function () {
    		var y = "局部";
    		//y = "全局";
    		console.log(y);
		};
		f2();
		console.log(y);//若函数内有var此行报错，若函数内没有var则此行输出全局变量y值

		//作用域是变量与函数的可访问范围（变量生效的区域范围，即在何处可以被访问到
		//作用域控制着变量与函数的可见性和生命周期。
		//全局作用
		var a = 10,
    		b = 20;
		function fn() {
    		//fn局部作用域
    		var a = 100,
        		c = 200;
    		//console.log(a,b,c,d);
    		function bar() {
        		//bar局部作用域
        		var a = 500,//若改为分号则d为全局变量就可以访问到了
            		d = 600;
        		console.log(a,b,c,d);
    		}
    		bar();
    		//console.log(a,b,c,d);
		}
		fn();//500 20 200 600
		/*若把console放在bar()后面一行，则显示d没有被定义*/

		//词法作用域 与调用形式无关
		var name = "Jack";
		function echo() {
    		console.log(name);
		}
		function foo() {
    		var name = "Bill";
    		function fee(){
        		var name = "Lucy";
        		echo();
    		}
    		fee();
		}
		foo();//Jack

		//关于块作用域和变量污染的问题
		var userId = 123;
		document.onclick = function () {
    		console.log("userId = ",userId);
    		//alert("userId = "+userId);
		};
		//写立即执行表达式来修复变量污染的问题
		(function(){
    		var a=2,b=3;
    		if(a<b){
        		var userId = 234;
    		}
		}());


	</script>
</head>
<body>

</body>
</html>