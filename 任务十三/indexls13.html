<!DOCTYPE html>
<html>
<head>
	<title>ls13</title>
	<meta charset="utf-8">
	<script>
		//课上测验：使用三种方式来创建对象
		//obj1通过字面量方式创建，并创建自身属性x
		//obj2通过Object静态方法创建，obj2的原型为obj1，并创建自身属性y
		//obj3通过构造函数来创建，构造函数为Obj3
		var obj1,obj2,obj3;
		var obj1 = {
			x:1
		};
		var obj2 = Object.create(obj1);
		obj2.y = 2;
		function Obj3 = function(){
		}
		var obj3 = new Obj3();
		obj3;

		var Person = function(name){
			this.name = name;
		}
		var p1 = new Person("abc");
		var p2 = new Person("def");
		console.log(p1.name,p2.name);

		p1 instanceof Person;//true

		var empty = {};
		var obj2 = Object.create(empty,{
		   x:{value:1}, y:{value:2,enumerable:true}
		});
		console.log(obj2);//{y:2,x:1}
		console.log(obj2.hasOwnProperty("x"));//true
		for(var k in obj2){
			console.log(k,obj2[k]);
		}//y 2

		/*JS对象继承
		1.JavaScript采用的是原型的继承方式，每个对象都有一个原型对象，最始的原型是null
		2.继承是对象-对象的原型继承，为面向对象提供了动态继承的功能
		3.任何方式创建的对象都有原型对象，可以通过对象的 __proto__ 属性来访问原型对象
		*/

		var a = {};
		var b = new Object();
		a.__proto__;//
		a.__proto__ === Object.prototype;//true
		b.__proto__ === Object.prototype;//true
		b.__proto__.__proto__;//null


		var proObj = {
		    z:3
		};

		var obj = Object.create(proObj);
		obj.x = 1;
		obj.y = 2;

		console.log(obj.x);//1
		console.log(obj.y);//2
		console.log(obj.z);//3

		console.log("z" in obj);//true
		console.log(obj.hasOwnProperty("z"));//false

		///////////Part2 原型链属性操作////////////
		obj.z = 5;

		console.log(obj.hasOwnProperty("z"));
		console.log(obj.z);
		console.log(proObj.z);

		obj.z = 8;
		console.log(obj.z);

		delete obj.z;//true
		console.log(obj.z);

		delete obj.z;//true
		console.log(obj.z);//still 3

		//如何删除原型上的属性
		delete  obj.__proto__.z;//或者delete proObj.z;
		console.log(obj.z);//此时彻底没有z了

		function Person(name,age) {
		    this.name = name;
		    this.age = age;
		}
		Person.prototype.sayHi = function(){
			console.log(this.name,this.age);
		}
		var p = new Person("Mike",23);
		p.sayHi();
		p.__proto__ === Person.prototype;//true
		Person.__proto__ === Object.prototype;//false
		Person.__proto__ === Object;//false
		Person.__proto__ === Function.prototype;//true
		Person.__proto__.__proto__ === Object.prototype;//true
		Person.__proto__.__proto__.__proto__;//null
	</script>
</head>
<body>

</body>
</html>